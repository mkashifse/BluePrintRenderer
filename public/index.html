<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>BluePrintRenderer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html,
        body {
            width: 100%;
            height: 100%;
        }

        body {
            overflow: hidden;
        }
    </style>
</head>
<script src="./dist/main.js"></script>
<script>
    // document.addEventListener('DOMContentLoaded', function () {
    //     prepare(document, "/tests/file_big.txt");
    // });
</script>

<body>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <div id="app">
        <div class="flex justify-center">
            <input hidden class="w-12" ref="up" type="file" name="fileToUpload" id="fileToUpload"
                @change="previewImage" />
            <p class="text-teal-900 hover:text-teal-500 cursor-default" v-if="uploadValue == 0 || uploadValue == 100"
                @click="onClick()">
                Upload
                <!-- <UploadIcon /> -->
            </p>
            <div v-else>{{this.uploadValue}}%</div>
        </div>
    </div>

    <script>
        var app = new Vue({
            el: '#app',
            data: {
                message: 'Hello Vue!'
            },
            created() {
                // 
            },
            mounted() {
                // prepare(document, "./tests/file_big.txt");
            },
            methods: {
                onUpload(event) {
                    const file = event.target.files[0];
                    const storageRef = firebase
                        .storage()
                        .ref(`${file.name}`)
                        .put(file);
                    storageRef.snapshot.ref.getDownloadURL().then(url => {
                        console.log(url);
                    })
                },
            }
        });
    </script>

</body>

</html>